function isHTML(e){return e instanceof Node}function render(e,n){return isHTML(e)&&isHTML(n)?(e.appendChild(n),e):Error("this is not HTMLElement")}function renderAll(e,...n){if(isHTML(e))return n.forEach(n=>{isHTML(n)&&e.appendChild(n)}),e}function span(e,n="",r=""){let t=document.createElement("span");return t.textContent=e,n&&(t.className=n),r&&(t.id=r),t}function p(e,n){let r=document.createElement("p");return r.innerHTML=e,r}window.onerror=function(e,n,r,t,a){let d=document.createElement("pre");d.className="dm-error mirror",d.appendChild(p(`Error : ${a}`)),d.appendChild(p(`Source: ${n}`)),d.appendChild(p(`Line: ${r}  Column: ${t}`)),document.body.appendChild(d)};const dmCss={dmUlist:"dm-ul",dmNumber:"dm-number",dmString:"dm-string",dmBool:"dm-bool",dmIndex:"dm-index",dmQuotation:"dm-quotation",dmString:"dm-string",dmPointer:"dm-pointer",dmDataType:"dm-data-type",dmNull:"dm-null",dmBtnOpen:"dm-btn-open",dmBtnOpened:"dm-btn-opened",dmDataTypeValue:"dm-dt",dmKeyword:"dm-keyword"};function dataMirror(e,n="",r="",t=!0){let a=document.createElement("ul");a.className=dmCss.dmUlist,a.style.listStyle="none";let d=typeof e,s=document.createElement("li");s.style.listStyle="none",s.className="dm-li";let l=span("",dmCss.dmIndex);if(renderAll(l,span(`${n}`,"label"),span(`${r}`,dmCss.dmPointer)),null===e)return render(s,renderAll(l,span("null",dmCss.dmKeyword),span(d,dmCss.dmDataTypeValue)));if(void 0===e)return render(s,renderAll(l,span("undefined",dmCss.dmKeyword),span(d,dmCss.dmDataTypeValue)));if("boolean"===d)return render(s,renderAll(l,span(`${e}`,dmCss.dmKeyword),span(d,dmCss.dmDataTypeValue)));if("number"===d){let m=dmCss.dmNumber;return isNaN(e)&&(m=dmCss.dmKeyword),render(s,renderAll(l,span(`${e}`,m),span(t?"Typeof number":"",dmCss.dmDataTypeValue)))}if("string"===d)return render(s,renderAll(l,span('"',dmCss.dmQuotation),span(e,dmCss.dmString),span('"',dmCss.dmQuotation),span(t?"Typeof string":"",dmCss.dmDataTypeValue)));if("function"===d){let o=document.createElement("code"),i=document.createElement("pre");return i.className="pre-function",i.textContent=e.toString(),render(o,i),l.classList.add("dm-btn-open"),renderAll(s,renderAll(l,span(` ${d}`,dmCss.dmKeyword),span("(","leftBracket bracket"),span("","dm-arrow"),span(")","rightBracket bracket"),span(`${e.constructor.name}`,"dm-constructor-name")),o)}if("object"===d){l.classList.add("dm-btn-open");let c=e.constructor.name;if(isHTML(e)){l.classList.add("dm-btn-open");let u=document.createElement("code"),f=document.createElement("pre");return f.innerHTML=htmlToCode(e),render(u,f),renderAll(s,renderAll(l,span(`${e.constructor.name}`,dmCss.dmKeyword),span("<","leftBracket bracket"),span("","dm-arrow"),span(">","rightBracket bracket"),span("HTMLEelement","dm-constructor-name")),u),s}let C="{",y="}",b="object",T=":",h="";if(Array.isArray(e)&&(C="[",y="]",b="array",T="=>",h=e.length),render(s,renderAll(l,span(`${b} ${h}`,dmCss.dmDataType),span(C,"leftBracket bracket"),span("","dm-arrow"))),"Number"===c)render(s,render(a,dataMirror(e+0,"","",!1)));else if("String"===c)render(s,render(a,dataMirror(e+"","","",!1)));else for(let g in e)Object.hasOwnProperty.call(e,g)&&render(s,render(a,dataMirror(e[g],g,T)));return renderAll(s,span(y,"rightBracket bracket"),span(`instanceOf ${e.constructor.name}`,"dm-constructor-name"))}return s}function htmlToCode(e){if(!e)return"";let n="";for(let r of(n+=`<span class="tag">&lt;${e.tagName.toLowerCase()}</span>`,e.attributes))n+=`<span class="attr"> ${r.name}<span>="</span><span class="attr-value">${r.value}</span>"</span>`;if(n+='<span class="tag">></span>',e.childNodes.length>0)for(let t of e.childNodes)t.nodeType===Node.TEXT_NODE?n+=t.textContent.replace(/</g,"&lth;"):n+=htmlToCode(t);return n+`<span class="tag">&lt;/${e.tagName.toLowerCase()}></span>  `}function dm(e,n=""){let r=document.createElement("div");r.classList.add("mirror"),r.appendChild(p(n)),r.appendChild(dataMirror(e)),document.body.appendChild(r);let t=document.querySelectorAll(".dm-btn-open, dm-data-type");t.forEach(e=>{e.onclick=function(){this.classList.toggle("dm-btn-opened")}})}